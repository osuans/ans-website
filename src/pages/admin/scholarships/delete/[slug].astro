---
import { getEntry } from 'astro:content';
import AdminLayout from '../../../../layouts/AdminLayout.astro';
import DeleteConfirmation from '../../../../components/admin/DeleteConfirmation.astro';

export const prerender = false;

const { slug } = Astro.params;

if (!slug) {
  return Astro.redirect('/admin');
}

const scholarship = await getEntry('scholarships', slug);

if (!scholarship) {
  return new Response(`Scholarship with slug "${slug}" not found.`, { status: 404 });
}
---
<AdminLayout title={`Delete Scholarship: ${scholarship.data.name}`}>
  <DeleteConfirmation
    itemName={scholarship.data.name}
    itemType="scholarship"
    slug={scholarship.slug}
    apiEndpoint="/api/scholarships/delete"
  />
</AdminLayout>
